<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Random slope models | NOTIZEN</title>
  <meta name="description" content="3 Random slope models | NOTIZEN" />
  <meta name="generator" content="bookdown 0.10 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Random slope models | NOTIZEN" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Random slope models | NOTIZEN" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="simulationen.html">
<link rel="next" href="mixed-models-vs-einzelne-regressionen.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="first-things-first.html"><a href="first-things-first.html"><i class="fa fa-check"></i><b>1</b> First Things First</a><ul>
<li class="chapter" data-level="1.1" data-path="hilfreiche-definitionen.html"><a href="hilfreiche-definitionen.html"><i class="fa fa-check"></i><b>1.1</b> Hilfreiche Definitionen</a><ul>
<li class="chapter" data-level="1.1.1" data-path="hilfreiche-definitionen.html"><a href="hilfreiche-definitionen.html#nested-und-clustered"><i class="fa fa-check"></i><b>1.1.1</b> Nested und clustered</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="random-intercept-models.html"><a href="random-intercept-models.html"><i class="fa fa-check"></i><b>2</b> Random intercept models</a><ul>
<li class="chapter" data-level="2.1" data-path="fancy-plot-zum-klauen.html"><a href="fancy-plot-zum-klauen.html"><i class="fa fa-check"></i><b>2.1</b> Fancy Plot zum Klauen</a></li>
<li class="chapter" data-level="2.2" data-path="problem-einfache-regression.html"><a href="problem-einfache-regression.html"><i class="fa fa-check"></i><b>2.2</b> Problem einfache Regression</a></li>
<li class="chapter" data-level="2.3" data-path="mixed-model-in-r.html"><a href="mixed-model-in-r.html"><i class="fa fa-check"></i><b>2.3</b> Mixed Model in R</a><ul>
<li class="chapter" data-level="2.3.1" data-path="mixed-model-in-r.html"><a href="mixed-model-in-r.html#vergleich-einfache-regression-vs.-mixed-model"><i class="fa fa-check"></i><b>2.3.1</b> Vergleich einfache Regression vs. mixed model</a></li>
<li class="chapter" data-level="2.3.2" data-path="mixed-model-in-r.html"><a href="mixed-model-in-r.html#predictions-plotten"><i class="fa fa-check"></i><b>2.3.2</b> Predictions plotten</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="simulationen.html"><a href="simulationen.html"><i class="fa fa-check"></i><b>2.4</b> Simulationen</a><ul>
<li class="chapter" data-level="2.4.1" data-path="simulationen.html"><a href="simulationen.html#run-1---default"><i class="fa fa-check"></i><b>2.4.1</b> Run 1 - default</a></li>
<li class="chapter" data-level="2.4.2" data-path="simulationen.html"><a href="simulationen.html#run-2---different-random-effect-variance"><i class="fa fa-check"></i><b>2.4.2</b> Run 2 - Different random effect variance</a></li>
<li class="chapter" data-level="2.4.3" data-path="simulationen.html"><a href="simulationen.html#run-3---different-residual-variance"><i class="fa fa-check"></i><b>2.4.3</b> Run 3 - Different residual variance</a></li>
<li class="chapter" data-level="2.4.4" data-path="simulationen.html"><a href="simulationen.html#run-4---different-random-effect-and-residual-variance"><i class="fa fa-check"></i><b>2.4.4</b> Run 4 - Different random effect and residual variance</a></li>
<li class="chapter" data-level="2.4.5" data-path="simulationen.html"><a href="simulationen.html#ubersicht"><i class="fa fa-check"></i><b>2.4.5</b> Übersicht</a></li>
<li class="chapter" data-level="2.4.6" data-path="simulationen.html"><a href="simulationen.html#veranderung-der-gruppengroen"><i class="fa fa-check"></i><b>2.4.6</b> Veränderung der Gruppengrößen</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="randomslopes.html"><a href="randomslopes.html"><i class="fa fa-check"></i><b>3</b> Random slope models</a><ul>
<li class="chapter" data-level="3.1" data-path="mixed-models-vs-einzelne-regressionen.html"><a href="mixed-models-vs-einzelne-regressionen.html"><i class="fa fa-check"></i><b>3.1</b> Mixed Models vs. einzelne Regressionen</a><ul>
<li class="chapter" data-level="3.1.1" data-path="mixed-models-vs-einzelne-regressionen.html"><a href="mixed-models-vs-einzelne-regressionen.html#density"><i class="fa fa-check"></i><b>3.1.1</b> Density</a></li>
<li class="chapter" data-level="3.1.2" data-path="mixed-models-vs-einzelne-regressionen.html"><a href="mixed-models-vs-einzelne-regressionen.html#predictions"><i class="fa fa-check"></i><b>3.1.2</b> Predictions</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NOTIZEN</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="randomslopes" class="section level1">
<h1><span class="header-section-number">3</span> Random slope models</h1>
<p>Diesmal kann auch der <span style=" font-weight: bold;    color: #6BBFA6 !important;">Effekt der Kovariate von Cluster zu Cluster variieren</span>. Zurück zum Beispiel mit den GPA-Scores von Studenten zu verschiedenen Zeitpunkten (Occasions). Diesmal variiert der Effekt der Occasion von Student zu Student - zusätzlich zum Intercept.</p>
<p>Vergleiche vorheriges Modell:</p>
<pre class="sourceCode r"><code class="sourceCode r">old_model &lt;-<span class="st"> </span><span class="kw">lmer</span>(gpa <span class="op">~</span><span class="st"> </span>occasion <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">|</span>student), <span class="dt">data =</span> gpa)</code></pre>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
effect
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
2.5992143
</td>
<td style="text-align:right;">
0.0216964
</td>
<td style="text-align:right;">
119.7995
</td>
</tr>
<tr>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
occasion
</td>
<td style="text-align:right;">
0.1063143
</td>
<td style="text-align:right;">
0.0040739
</td>
<td style="text-align:right;">
26.0964
</td>
</tr>
<tr>
<td style="text-align:left;">
ran_pars
</td>
<td style="text-align:left;">
student
</td>
<td style="text-align:left;">
sd__(Intercept)
</td>
<td style="text-align:right;">
0.2524265
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
ran_pars
</td>
<td style="text-align:left;">
Residual
</td>
<td style="text-align:left;">
sd__Observation
</td>
<td style="text-align:right;">
0.2410156
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
<p>Jetzt mit random Slope von Occasion für jeden Studenten:</p>
<pre class="sourceCode r"><code class="sourceCode r">gpa_mixed &lt;-<span class="st"> </span><span class="kw">lmer</span>(gpa <span class="op">~</span><span class="st"> </span>occasion <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">+</span><span class="st"> </span>occasion<span class="op">|</span>student), <span class="dt">data =</span> gpa)</code></pre>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
effect
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
2.5992143
</td>
<td style="text-align:right;">
0.0183569
</td>
<td style="text-align:right;">
141.59308
</td>
</tr>
<tr>
<td style="text-align:left;">
fixed
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
occasion
</td>
<td style="text-align:right;">
0.1063143
</td>
<td style="text-align:right;">
0.0058844
</td>
<td style="text-align:right;">
18.06707
</td>
</tr>
<tr>
<td style="text-align:left;">
ran_pars
</td>
<td style="text-align:left;">
student
</td>
<td style="text-align:left;">
sd__(Intercept)
</td>
<td style="text-align:right;">
0.2125831
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
ran_pars
</td>
<td style="text-align:left;">
student
</td>
<td style="text-align:left;">
sd__occasion
</td>
<td style="text-align:right;">
0.0671048
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
ran_pars
</td>
<td style="text-align:left;">
student
</td>
<td style="text-align:left;">
cor__(Intercept).occasion
</td>
<td style="text-align:right;">
-0.0981559
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
ran_pars
</td>
<td style="text-align:left;">
Residual
</td>
<td style="text-align:left;">
sd__Observation
</td>
<td style="text-align:right;">
0.2058861
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
<p>Das hier wäre übrigens dasselbe, aber der Typ sagt: “Technically the intercept is assumed but you should keep it for clarity.”</p>
<pre class="sourceCode r"><code class="sourceCode r">gpa_mixed &lt;-<span class="st"> </span><span class="kw">lmer</span>(gpa <span class="op">~</span><span class="st"> </span>occasion <span class="op">+</span><span class="st"> </span>(occasion<span class="op">|</span>student), <span class="dt">data =</span> gpa)</code></pre>
<p>Intercept und fixed Effect haben wieder genau denselben Wert wie im Modell mit random Intercept bzw. im Modell ohne random Effects. Das Intercept ist nicht ganz identisch, aber schon noch sehr ähnlich zu vorher, auch was den random Effect anbelangt. Clark schreibt, dass der <span style=" font-weight: bold;    color: #6BBFA6 !important;">random Slope</span> für die Occasion verhältismäßig klein aussieht, aber man sich klar machen muss: Der fixed Effekt von Occasion bedeutet eine Zunahme von .11 GPA-Punkten von Zeitpunkt zu Zeitpunkt. Und die <span style=" font-weight: bold;    color: #6BBFA6 !important;">Standardabweichung</span> - also das estimate in der Tabelle - beträgt .067. Was bedeutet, dass die Mehrheit aller Studenten (95 % liegen innerhalb von <span class="math inline">\(\substack{+\\-} 2SD\)</span>) bei einem Zuwachs zwischen etwa 0 und fast doppelt so vielen GPA-Punkten wie der angenommene fixed Effekt liegt. Was wiederum ziemlich krass ist.</p>
<p>Dann gibt es noch die Korrelation zwischen Intercept und dem random Slope der Occasion. Die Korrelation ist hier mit -0.1 ziemlich vernachlässligbar, aber sie würde bedeuten, dass Studenten mit einem niedrigen Ausgangs-GPA sich über die Zeit hinweg stärker verbessern.</p> 
</div>
            </section>

          </div>
        </div>
      </div>
<a href="simulationen.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mixed-models-vs-einzelne-regressionen.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": 3,
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
